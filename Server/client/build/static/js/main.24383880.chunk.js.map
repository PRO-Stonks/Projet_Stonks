{"version":3,"sources":["assets/stonks.png","utils/Spinner.js","utils/URL.js","utils/validateEmail.js","login/LogInForm2.js","assets/Webp.net-resizeimage.png","pages/NavWelcome.js","pages/NavAdmin.js","assets/stonks4.png","pages/About.js","utils/BaseManagement.js","admin/product/ProductManagement.js","utils/ActionsForm.js","admin/product/ProductdetailsForm/ProductFormAdd.js","utils/list/List.js","admin/product/ProductdetailsForm/ProductListElement.js","admin/product/ProductdetailsForm/ProductFormGetAll.js","admin/product/ProductdetailsForm/ProductFormUpdate.js","admin/product/ProductdetailsForm/ProductFormDelete.js","admin/product/Product.js","admin/QR/PrinterWrapper.js","admin/QR/QR.js","admin/user/UserListElement.js","admin/user/UserForm.js","admin/user/UserManager.js","admin/user/UserManagementMenu.js","admin/location/LocationManagement.js","admin/location/LocationdetailsForm/LocationFormAdd.js","admin/location/LocationdetailsForm/LocationListElement.js","admin/location/LocationdetailsForm/LocationFormGetAll.js","admin/location/LocationdetailsForm/LocationFormUpdate.js","admin/location/LocationdetailsForm/LocationFormDelete.js","admin/location/Location.js","admin/stocks/LocationManagement/LocationListElement.js","admin/stocks/LocationManagement/ElementListElement.js","admin/stocks/LocationManagement/ElementByLocationManager.js","admin/stocks/LocationManagement/LocationManager.js","admin/stocks/ProductManagement/ProductListElement.js","admin/stocks/ProductManagement/ElementListElement.js","admin/stocks/ProductManagement/ElementByProductManager.js","admin/stocks/ProductManagement/ProductManager.js","admin/stocks/HistoryDisplay/ProductListElement.js","admin/stocks/HistoryDisplay/HistoryByProductManager.js","admin/stocks/HistoryDisplay/HistoryManager.js","admin/stocks/StocksManagerMenu.js","admin/logs/LogsManagement/LogListElement.js","admin/logs/LogsManagement/LogListElementNoUser.js","admin/logs/LogsManagement/LogByUserManager.js","admin/logs/LogsManagement/UserLogManager.js","admin/alert/AlertListElement.js","admin/alert/AlertDisplay.js","admin/alert/AlertListProduct.js","admin/alert/AlertProductDisplay.js","admin/alert/AlertManager.js","pages/HomePage.js","pages/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["Spinner","props","enabled","src","logo","className","alt","API_URL","validateEmail","email","test","String","toLowerCase","getData","url","data","a","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","response","json","console","log","validate","values","errors","password","length","LogInForm2","formik","useFormik","initialValues","onSubmit","res","status","submit","message","handleChangeProps","loggedIn","user","token","handleSubmit","htmlFor","id","name","type","onChange","handleChange","onBlur","handleBlur","value","touched","isSubmitting","withRouter","to","location","pathname","class","onClick","handleLogOut","About","BaseManagement","baseURL","this","constructor","Error","queryString","get","ProductManagement","ActionsForm","Fragment","Card","style","backgroundColor","textAlign","FormControl","FormLabel","marginTop","TextField","select","label","action","margin","event","setAction","target","SelectProps","native","helperText","variant","error","map","option","index","ProductFormAdd","handler","placeholder","tag","min","lowQuantity","List","refetch","spinner","item","sort","queryOptions","itemProps","useState","page","setPage","setData","isLoading","setIsLoading","setError","nbFetchedElement","setNbFetchedElement","fetchStories","pageTarget","limit","getUrl","then","result","prevState","slice","results","catch","err","useEffect","Item","_id","enable","ProductListElement","active","disabled","ProductFormGetAll","ProductFormUpdate","init","setInit","selectedProduct","listProducts","handleSelect","selected","ProductFormDelete","title","filter","Product","management","handlers","add","alert","getAll","update","sofDelete","softDelete","delete","fetching","setFetching","fetchAll","isInteger","setGetSelection","activeStep","setActiveStep","React","Stepper","Step","StepLabel","baseHandlerValue","renderFormContent","hidden","QRCode","require","PrinterWrapper","componentRef","useRef","ref","codes","code","includeMargin","trigger","content","current","askForQR","QR","setCodes","handleGeneration","nbQr","tmpCodes","i","qr","push","Row","Col","max","UserListElement","onSelect","lastName","firstName","getChanges","original","changed","output","role","UserForm","userData","actions","setFieldError","refreshHandler","as","del","UserManager","formRefresh","deleteHandler","hardDelete","displayUpdateForm","setUpdate","Container","fluid","md","Button","UserManagementMenu","setSelected","refetchList","setRefreshList","refresh","userSelected","b","compareActive","localeCompare","LocationManagement","LocationFormAdd","street","noStreet","npa","city","country","LocationListElement","address","LocationFormGetAll","LocationFormUpdate","selectedLocation","listLocations","LocationFormDelete","Location","ElementListElement","Date","entryDate","price","toLocaleString","year","month","day","ElementByLocationManager","locationId","groupBy","element","idProduct","Object","keys","key","LocationManager","ElementByProductManager","productId","rawData","setRawData","idLocation","ProductManager","HistoryByProductManager","change","nbCreated","Creation","nbMoved","Move","nbRemoved","Remove","dataWithDate","time","setHours","dataToDisplay","forEach","date","parseInt","tickFormat","x","y","fill","fillOpacity","strokeWidth","labels","fontSize","HistoryManager","StocksManagerMenu","Tabs","defaultActiveKey","Tab","eventKey","LogListElement","width","hour12","ip","userAgent","substring","indexOf","LogListElementNoUser","LogByUserManager","UserLogManager","AlertListElement","idElement","exitDate","AlertDisplay","AlertListProduct","AlertProductDisplay","AlertManager","HomePage","path","exact","component","Footer","App","state","setState","handleLogIn","e","localStorage","setItem","getItem","tokenArray","split","payload","parse","atob","current_time","now","valueOf","exp","removeItem","clear","height","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.24383880.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/stonks.1a260185.png\";","import React from \"react\";\nimport logo from \"../assets/stonks.png\";\n\n/**\n * Really important Object function DO NOT DELETE\n * @param props\n * @returns {JSX.Element|null}\n * @constructor\n */\nfunction Spinner(props) {\n    return (\n            props.enabled ? <img src={logo} className=\"App-logo\" alt=\"logo\"/> : null\n    );\n}\nexport default Spinner;","const API_URL = 'https://heig-vd-pro-stonks.herokuapp.com/api/v1/'\n\n\nexport default API_URL;","function validateEmail(email) {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n}\n\nexport default validateEmail;","import {useFormik} from 'formik';\nimport Spinner from \"../utils/Spinner\";\nimport API_URL from \"../utils/URL\";\nimport validateEmail from \"../utils/validateEmail\";\n\nasync function getData(url, data) {\n    try {\n        const response = await fetch(url, {\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json'\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        });\n        return response.json();\n    } catch (e) {\n        console.log(e);\n    }\n}\n\n\nconst validate = values => {\n    const errors = {};\n    if (!values.email) {\n        errors.email = \"Email cannot be empty\";\n    } else if (!validateEmail(values.email)) {\n        errors.email = \"Invalid email address\";\n    }\n\n    if (!values.password) {\n        errors.password = \"Password cannot be empty\";\n    } else if (values.password.length < 8) {\n        errors.password = \"Password must have at least 8 character.\";\n    }\n\n    return errors;\n}\n\nconst LogInForm2 = (props) => {\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n        },\n        validate,\n        onSubmit: async (values) => {\n            const res = await getData(API_URL+\"users/login\", values);\n            if (res.status === \"fail\"){\n                formik.errors.submit = res.message;\n            }else{\n                console.log(\"Is ok\");\n                props.handleChangeProps({loggedIn: true, user: res.data.user, token: res.token})\n            }\n        },\n    });\n\n    return (\n        <form className=\"container w-50\" onSubmit={formik.handleSubmit}>\n\n            <label className=\"form-check-label\" htmlFor=\"email\">Email Address </label>\n            <input\n                className=\"form-control\"\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n                value={formik.values.email}\n            />\n            {formik.touched.email && formik.errors.email ? <div className=\"Error\">{formik.errors.email}</div> : \"\"}\n\n            <label className=\"form-check-label\" htmlFor=\"password\">Password </label>\n            <input\n                className=\"form-control\"\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n                value={formik.values.password}\n            />\n            {formik.touched.password && formik.errors.password ? <div className=\"Error\">{formik.errors.password}</div> :\n                <br/>}\n\n            <button className=\"btn-primary\" type=\"submit\">Submit</button>\n            <br/>\n            <Spinner enabled={formik.isSubmitting}/>\n            {formik.errors.submit ? <div className=\"Error\">{formik.errors.submit}</div> :\n                <br/>}\n        </form>\n    );\n};\n\nexport default LogInForm2;","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport logo from \"../assets/Webp.net-resizeimage.png\"\n\nfunction NavWelcome(props) {\n    return (\n        <div className=\"navigationWelcome\">\n            <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n                <div className=\"container\">\n                    <Link className=\"navbar-brand\" to=\"/\">\n                        <img src={logo} alt=\"logo\"/>   Stonks\n                    </Link>\n                    <div>\n                        <ul className=\"navbar-nav ml-auto\">\n                            <li className={`nav-item ${props.location.pathname === \"/\" ? \"active\" : \"\"}`}>\n                                <Link class=\"nav-link\" to=\"/\">\n                                    Home\n                                    <span className=\"sr-only\">(current)</span>\n                                </Link>\n                            </li>\n                            <li className={`nav-item ${props.location.pathname === \"/about\" ? \"active\" : \"\"}`}>\n                                <Link class=\"nav-link\" to=\"/about\">\n                                    About\n                                </Link>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n        </div>\n    );\n}\n\nexport default withRouter(NavWelcome);","import React from \"react\";\nimport {Link, withRouter} from \"react-router-dom\";\nimport logo from \"../assets/Webp.net-resizeimage.png\"\n\n/*\n    The only diff with navWelcome is the log-Out button\n */\nfunction NavAdmin(props) {\n    return (\n        <div className=\"navigation\">\n            <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n                <div className=\"container\">\n                    <Link class=\"navbar-brand\" to=\"/\">\n                        <img src={logo} alt=\"logo\"/> Stonks\n                    </Link>\n                    <div>\n                        <ul className=\"navbar-nav ml-auto\">\n                            <li className={`nav-item  ${props.location.pathname === \"/\" ? \"active\" : \"\"}`}>\n                                <Link class=\"nav-link\" to=\"/\">\n                                    Home\n                                    <span className=\"sr-only\">(current)</span>\n                                </Link>\n                            </li>\n                            <li className={`nav-item  ${props.location.pathname === \"/about\" ? \"active\" : \"\"}`}>\n                                <Link class=\"nav-link\" to=\"/about\">\n                                    About\n                                </Link>\n                            </li>\n                        </ul>\n                    </div>\n                    <div><Link className=\"btn btn-dark\" onClick={props.handleLogOut} to=\"/\">Log out</Link></div>\n                </div>\n            </nav>\n        </div>\n    );\n}\n\nexport default withRouter(NavAdmin);","export default __webpack_public_path__ + \"static/media/stonks4.bc7d339b.png\";","import React from \"react\";\nimport logo from \"../assets/stonks4.png\";\n\nfunction About() {\n    return (\n        <div className=\"about\">\n            <div className=\"container\">\n                <div className=\"row align-items-center my-5\">\n                    <div className=\"col-lg-7\">\n                        <img src={logo} className=\"App-logo\" alt=\"logo\"/>\n                        <p className=\"Logo-text-down\">Not Stonks</p>\n                        <p className=\"Logo-text-up\">Stonks</p>\n                    </div>\n\n                    <div className=\"col-lg-5\">\n                        <h1 className=\"font-weight-light\">About</h1>\n                        <h4>Stonks project</h4>\n                        <p> For the HEIG-VD PRO course. </p>\n                        <p> Authors:<br/>\n                            Besseau Lonard<br/>\n                            Cerottini Alexandra<br/>\n                            Do Vale Lopes Miguel<br/>\n                            Gamboni Fiona<br/>\n                            Tevaearai Rebecca\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default About;","/**\n * Abstract class BaseManagement\n * This class implements the base queries to add/get/getAll/update/sofDel/del\n * Stonks items.\n *\n * @class BaseManagement\n */\nclass BaseManagement{\n    /**\n     * The base url, where we fetch the queries\n     */\n    #baseURL;\n\n    /**\n     * Constructor\n     *\n     * @abstract\n     * @param baseURL the base URL to fetch the queries\n     */\n    constructor(baseURL) {\n        if (this.constructor === BaseManagement) {\n            throw new Error(\"Abstract classes can't be instantiated.\");\n        } else {\n            this.#baseURL = baseURL;\n        }\n    }\n\n    /**\n     * Add an item\n     *\n     * @param token the token to send with query (user auth)\n     * @param data the data to add\n     * @returns {Promise<any>}\n     */\n    async add(token, data) {\n        try {\n            const response = await fetch(\n                this.#baseURL + \"add\",\n                {\n                    method: 'POST',\n                    mode: 'cors',\n                    cache: 'no-cache',\n                    credentials: 'same-origin',\n                    headers: {\n                        'Authorization': 'Bearer ' + token,\n                        'Content-Type': 'application/json'\n                    },\n                    redirect: 'follow',\n                    referrerPolicy: 'no-referrer',\n                    body: JSON.stringify(data)\n                }\n            );\n            return response.json();\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    /**\n     * Get an item\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the item\n     * @returns {Promise<any>}\n     */\n    async get(token, id) {\n        try {\n            const response = await fetch(\n                this.#baseURL + id,\n                {\n                    method: 'GET',\n                    mode: 'cors',\n                    cache: 'no-cache',\n                    credentials: 'same-origin',\n                    headers: {\n                        'Authorization': 'Bearer ' + token,\n                        'Content-Type': 'application/json'\n                    },\n                    redirect: 'follow',\n                    referrerPolicy: 'no-referrer',\n                });\n            return response.json();\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    /**\n     * Get all items\n     *\n     * @param token the token to send with query (user auth)\n     * @param queryString the string query to paginate / limit => ex: ?page=2&limit=20\n     * @returns {Promise<*>}\n     */\n    async getAll(token, queryString) {\n        return this.get(token, queryString);\n    }\n\n    /**\n     * Update an item\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the item\n     * @param data the data to update\n     * @returns {Promise<any>}\n     */\n    async update(token, id, data) {\n        try {\n            const response = await fetch(\n                this.#baseURL + id,\n                {\n                method: 'PATCH',\n                mode: 'cors',\n                cache: 'no-cache',\n                credentials: 'same-origin',\n                headers: {\n                    'Authorization': 'Bearer ' + token,\n                    'Content-Type': 'application/json'\n                },\n                redirect: 'follow',\n                referrerPolicy: 'no-referrer',\n                body: JSON.stringify(data)\n            });\n            return response.json();\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    /**\n     * Soft delete an item\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the item\n     * @returns {Promise<any>}\n     */\n    async softDelete(token, id) {\n        try {\n            const response = await fetch(\n                this.#baseURL + id,\n                {\n                    method: 'DELETE',\n                    mode: 'cors',\n                    cache: 'no-cache',\n                    credentials: 'same-origin',\n                    headers: {\n                        'Authorization': 'Bearer ' + token,\n                        'Content-Type': 'application/json'\n                    },\n                    redirect: 'follow',\n                    referrerPolicy: 'no-referrer',\n                });\n            return response.status === 204 ? {status: \"success\"} : response.json();\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    /**\n     * Hard delete an item\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the item\n     * @returns {Promise<any>}\n     */\n    async delete(token, id) {\n        try {\n            const response = await fetch(\n                this.#baseURL + \"hardDel/\" + id,\n                {\n                    method: 'DELETE',\n                    mode: 'cors',\n                    cache: 'no-cache',\n                    credentials: 'same-origin',\n                    headers: {\n                        'Authorization': 'Bearer ' + token,\n                        'Content-Type': 'application/json'\n                    },\n                    redirect: 'follow',\n                    referrerPolicy: 'no-referrer',\n                });\n            return response.status === 204 ? {status: \"success\"} : response.json();\n        } catch (e) {\n            console.log(e);\n        }\n    }\n}\n\nexport default BaseManagement;","import API_URL from \"../../utils/URL\";\nimport BaseManagement from \"../../utils/BaseManagement\";\n\n/**\n * Management specific to Products\n *\n * @class ProductManagement\n */\nclass ProductManagement extends BaseManagement {\n\n    /**\n     * Constructor\n     */\n    constructor() {\n        super(API_URL + \"products/\");\n    }\n\n    /**\n     * Add a Product\n     *\n     * @param token the token to send with query (user auth)\n     * @param data the data corresponding to Product model to add\n     * @returns {Promise<*>}\n     */\n    async add(token, data) {\n        return super.add(token, data);\n    }\n\n    /**\n     * Get a Product\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the Product\n     * @returns {Promise<*>}\n     */\n    async get(token, id) {\n        return super.get(token, id);\n    }\n\n    /**\n     * Get all Product\n     *\n     * @param token the token to send with query (user auth)\n     * @param queryString the string query to paginate / limit => ex: ?page=2&limit=20\n     * @returns {Promise<*>}\n     */\n    async getAll(token, queryString) {\n        return super.getAll(token, queryString);\n    }\n\n    /**\n     * Update a Product\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the Product\n     * @param data the data corresponding to Product model to update\n     * @returns {Promise<*>}\n     */\n    async update(token, id, data) {\n        return super.update(token, id, data);\n    }\n\n    /**\n     * Soft delete a Product\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the Product\n     * @returns {Promise<*>} the code status response\n     */\n    async softDelete(token, id) {\n        return super.softDelete(token, id);\n    }\n\n    /**\n     * Hard delete a Product\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the Product\n     * @returns {Promise<*>} the code status response\n     */\n    async delete(token, id) {\n        return super.delete(token, id);\n    }\n}\n\nexport default ProductManagement;","import React from \"react\";\nimport {Card, FormControl, FormLabel, TextField} from \"@material-ui/core\";\n\nfunction ActionsForm(props) {\n\n    const actions = [\"none\", \"add\", \"get all\", \"update\", \"softDelete\", \"delete\"];\n    const handleAction = (event) => {\n        props.setAction(event.target.value);\n    };\n\n    return (\n        <React.Fragment>\n            <Card className=\"col-3\" style={{backgroundColor: \"whitesmoke\", textAlign: \"center\"}}>\n                <FormControl>\n                    <FormLabel style={{marginTop: 10}}>\n                        Action\n                    </FormLabel>\n\n                    <TextField\n                        id=\"Action-select\"\n                        select\n                        label=\"Select\"\n                        value={props.action}\n                        margin=\"dense\"\n                        onChange={handleAction}\n                        SelectProps={{\n                            native: true,\n                        }}\n                        helperText={props.action === \"none\" ? \"Please select an Action !\" : \"\"}\n                        variant=\"outlined\"\n                        error={props.action === \"none\"}\n                    >\n                        {actions.map((option, index) => (\n                            <option key={index} value={option}>\n                                {option}\n                            </option>\n                        ))}\n\n                    </TextField>\n                </FormControl>\n            </Card>\n        </React.Fragment>\n    );\n}\n\nexport default ActionsForm;","import React from \"react\";\n\nfunction ProductFormAdd(props){\n    return (\n        <div className=\"\">\n            <h3>Add a Product</h3>\n            <form className=\"form-group\" onSubmit={props.handler.handleSubmit}>\n                {/* Name Input */}\n                <label className=\"form-check-label\">Name</label>\n                <input\n                    className=\"form-control w-50\"\n                    placeholder=\"Name\"\n                    id=\"add_name\"\n                    name=\"name\"\n                    type=\"text\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.name}\n                />\n                <br/>\n                <label className=\"form-check-label\">Tag</label>\n                {/* Tag Input */}\n                <textarea\n                    className=\"form-control w-50 \"\n                    placeholder=\"Tag\"\n                    id=\"add_tag\"\n                    name=\"tag\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.tag}\n                />\n                <br/>\n                <label className=\"form-check-label\">Low Quantity Threshold</label>\n                <input\n                    className=\"form-control w-50\"\n                    placeholder=\"Low quantity threshold\"\n                    id=\"add_lowQuantity\"\n                    name=\"lowQuantity\"\n                    type=\"number\"\n                    min=\"0\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.lowQuantity}\n                />\n                <br/>\n\n                {/* Display error if submit failed */}\n                {props.handler.errors.submit ?\n                    <div className=\"Error\">{props.handler.errors.submit}</div> : <br/>}\n\n                {/* Submit button */}\n                <button className=\"btn-success\" type=\"submit\">Submit</button>\n            </form>\n        </div>\n    );\n}\n\nexport default ProductFormAdd;","import React, {useEffect, useState} from \"react\";\nimport API_URL from \"../URL\";\n\nconst NUMBER_OF_ELEMENT_PER_FETCH = 10;\n\n/**\n * Paginated List\n * @param refetch a boolean to indicates that a refetch is needed.\n * @param spinner An element to display while a fetch is occurring.\n * @param url the part of the url to fetch (Composed as BASE_URL+ulr/?pages=\n * @param item the item to display in the list (the item will be given with props.item)\n * @param token the token to make a request\n * @param sort a sort function\n * @param queryOptions query options for the request (populate, sort)\n * @param itemProps all remaining props will be given to the item\n * @returns {JSX.Element}\n * @constructor\n */\nfunction List({refetch, spinner, url, item, token, sort, queryOptions, ...itemProps}) {\n    const [page, setPage] = useState(0);\n    const [data, setData] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(\"\");\n    const [nbFetchedElement, setNbFetchedElement] = useState(NUMBER_OF_ELEMENT_PER_FETCH);\n\n\n    const fetchStories = (pageTarget, limit = 10) => {\n        setIsLoading(true);\n        fetch(getUrl(pageTarget) + '&limit=' + limit+\"&\"+queryOptions, {\n            method: 'GET', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n            //body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        })\n            .then(response => {\n                return response.json();\n            })\n            .then(result => {\n                setIsLoading(false);\n                if (result.status === \"fail\") {\n                    setError(result.message);\n                } else {\n                    if (nbFetchedElement < NUMBER_OF_ELEMENT_PER_FETCH) {\n                        console.log(\"Missing: Removing \"+nbFetchedElement +\" Element \")\n                        setData(prevState => ([...prevState.slice(0, prevState.length - nbFetchedElement), ...result.data]));\n                    } else {\n                        setData(prevState => ([...prevState, ...result.data]));\n                    }\n\n                    if (result.results < NUMBER_OF_ELEMENT_PER_FETCH) {\n                        setNbFetchedElement(result.results);\n                    } else {\n                        setPage(pageTarget);\n                    }\n                }\n            }).catch(err => setError(\"an error occured\"));\n    };\n\n    const getUrl = (page) =>\n        API_URL + url + `?page=${page}`;\n\n\n    useEffect(() => {\n        const onInitialSearch = () => {\n            fetchStories(1);\n        }\n        onInitialSearch();\n    }, [refetch]);\n\n\n    const onPaginatedSearch = () => {\n        fetchStories(page + 1);\n    }\n\n    const Spinner = spinner;\n    const Item = item;\n    return (\n        <div className=\"List\">\n            <div className=\"List-container\">\n                {sort ?\n                    [...data].sort(sort).map(item => <Item key={item._id} item={item} {...itemProps} />) :\n                    data.map(item => <Item key={item._id} item={item} {...itemProps} />)\n                }\n            </div>\n            <div className=\"interactions\">\n                {!isLoading &&\n                <button\n                    type=\"button\"\n                    onClick={onPaginatedSearch}\n                >\n                    More\n                </button>}\n            </div>\n            {error !== \"\" && <div className=\"Error\">{error}</div>}\n            {Spinner && <Spinner enable={isLoading}/>}\n        </div>\n    );\n}\n\nexport default List;","import React from \"react\";\n\nfunction ProductListElement({item}) {\n    if (item.active) {\n        return <div className=\"container-fluid\">\n            <label className=\"form-check-label\">id</label>\n            <div\n                className=\"form-control w-50\">{item._id}</div>\n            <label className=\"form-check-label\">name</label>\n            <div\n                className=\"form-control w-50\">{item.name}</div>\n            <label className=\"form-check-label\">tag</label>\n            <textarea\n                className=\"form-control w-50 \"\n                name=\"tag\"\n                value={item.tag}\n                disabled\n            />\n            <label className=\"form-check-label\">Low Quantity Threshold</label>\n            <textarea\n                className=\"form-control w-25 h-25\"\n                name=\"lowQuantity\"\n                value={item.lowQuantity}\n                disabled\n            />\n            <br/>\n            <br/>\n        </div>;\n    } else {\n        return \"\";\n    }\n}\n\nexport default ProductListElement;","import React from \"react\";\nimport List from \"../../../utils/list/List\";\nimport ProductListElement from \"./ProductListElement\";\nimport Spinner from \"../../../utils/Spinner\";\n\nfunction ProductFormGetAll(props) {\n\n    return (\n        <React.Fragment>\n            <h3>Get all Products</h3>\n            <List token={props.token} item={ProductListElement} spinner={Spinner} url={\"products\"}/>\n        </React.Fragment>\n    );\n}\n\nexport default ProductFormGetAll;","import React, {useEffect, useState} from \"react\";\n\nfunction ProductFormUpdate(props) {\n\n    /* Init values only once */\n    const [init, setInit] = useState(false);\n    useEffect(() => {\n        props.handler.values.tag = props.selectedProduct.tag;\n        props.handler.values.name = props.selectedProduct.name;\n        setInit(!init);\n    }, [props.selectedProduct]);\n\n    return (\n        <React.Fragment>\n            <h3>Update a Product</h3>\n            <form className=\"form-group\" onSubmit={props.handler.handleSubmit}>\n                {props.listProducts ?\n                    <>\n                        {/* Id select */}\n                        <select\n                            className=\"custom-select w-50\"\n                            onChange={props.handleSelect}\n                        >\n                            <option selected>Select the id</option>\n                            {props.listProducts.map((option, index) => {\n                                if(option.active) {\n                                    return <option key={index} value={index}>\n                                        {option._id}\n                                    </option>\n                                } else {\n                                    return \"\"\n                                }\n                            })}\n                        </select>\n                        <br/><br/>\n\n                        {/* Display id and tag according to selected name */}\n                        {props.selectedProduct.id ?\n                            <>\n                                {/* Name Input */}\n                                <label className=\"form-check-label\">Name</label>\n                                <input\n                                    className=\"form-control w-50\"\n                                    id=\"add_name\"\n                                    name=\"name\"\n                                    type=\"text\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={props.handler.values.name}\n                                />\n                                <br/>\n\n                                {/* Tag Input */}\n                                <label className=\"form-check-label\">Tag</label>\n                                <textarea\n                                    className=\"form-control w-50 \"\n                                    id=\"add_tag\"\n                                    name=\"tag\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={\n                                        /* With this, we give the original tag to update */\n                                        props.handler.values.tag}\n                                />\n                                <br/>\n                                <label className=\"form-check-label\">Low Quantity Threshold</label>\n                                <input\n                                    className=\"form-control w-50\"\n                                    placeholder=\"Low quantity threshold\"\n                                    id=\"add_lowQuantity\"\n                                    name=\"lowQuantity\"\n                                    type=\"number\"\n                                    min=\"0\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={props.handler.values.lowQuantity}\n                                />\n                            </>\n                            : \"\"}\n                    </>\n                    : <error>\n                        {/* If Products could not be fetched */}\n                        Could not fetch data\n                    </error>}\n\n                {/* Display error if submit failed */}\n                {props.handler.errors.submit ?\n                    <div className=\"Error\">{props.handler.errors.submit}</div> : <br/>}\n\n                {/* Submit button */}\n                <button className=\"btn-success\" type=\"submit\">Submit</button>\n            </form>\n        </React.Fragment>\n    );\n}\n\nexport default ProductFormUpdate;","import React from \"react\";\n\nfunction ProductFormDelete(props){\n    return (\n        <React.Fragment>\n            <h3>{props.title}</h3>\n            <form className=\"form-group\" onSubmit={props.handler.handleSubmit}>\n                {props.listProducts ?\n                    <>\n                        {/* Name select */}\n                        <select\n                            className=\"custom-select w-50\"\n                            onChange={props.handleSelect}\n                        >\n                            <option selected>Select the name</option>\n                            {props.listProducts.map((option, index) => {\n                                if (props.filter && !option.active) {\n                                    return \"\";\n                                } else {\n                                    return <option key={index} value={index}>\n                                        {option.name}\n                                    </option>\n                                }\n                            })}\n                        </select>\n                        <br/>\n\n                        {/* Display id and tag according to selected name */}\n                        {props.selectedProduct.id ?\n                            <>\n                                <br/>\n                                <label className=\"form-check-label\">id</label>\n                                <div\n                                    className=\"form-control w-50\">{props.selectedProduct.id}</div>\n                                <br/>\n                            </>\n                            : \"\"}\n                    </>\n                    : <error>\n                        {/* If Products could not be fetched */}\n                        Could not fetch data\n                    </error>}\n\n                {/* Display error if submit failed */}\n                {props.handler.errors.submit ?\n                    <div className=\"Error\">{props.handler.errors.submit}</div> : <br/>}\n\n                {/* Submit button */}\n                <button className=\"btn-danger\" type=\"submit\">Submit</button>\n            </form>\n        </React.Fragment>\n    );\n}\n\nexport default ProductFormDelete;","import {isInteger, useFormik} from \"formik\";\nimport ProductManagement from \"./ProductManagement\";\nimport React, {useEffect, useState} from \"react\";\nimport {\n    Step,\n    StepLabel,\n    Stepper\n} from '@material-ui/core';\nimport ActionsForm from \"../../utils/ActionsForm\";\nimport ProductFormAdd from \"./ProductdetailsForm/ProductFormAdd\";\nimport ProductFormGetAll from \"./ProductdetailsForm/ProductFormGetAll\";\nimport ProductFormUpdate from \"./ProductdetailsForm/ProductFormUpdate\";\nimport ProductFormDelete from \"./ProductdetailsForm/ProductFormDelete\";\n\nfunction Product(props) {\n\n    const management = new ProductManagement();\n\n    /* Formik handlers */\n    const handlers = {\n        add: useFormik({\n            initialValues: {\n                name: '',\n                tag: '',\n                lowQuantity: 0\n            },\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.add(props.token, values);\n\n                /* Display Product Name */\n                if (res.status === \"success\") {\n                    console.log(\"Product added\");\n                    alert(\"The product: \" + JSON.stringify(res.data.name) + \" has correctly been added\");\n                }\n                /* Display message error */\n                else {\n                    handlers.add.errors.submit = res.message;\n                }\n            }\n        }),\n\n        get: useFormik({\n            initialValues: {\n                id: ''\n            },\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.get(props.token, values.id);\n\n                /* Display Product data */\n                if (res.status === \"success\") {\n                    console.log(\"Product got\");\n                    alert(\"Product requested:\\n\" + JSON.stringify(res.data));\n                }\n                /* Display message error */\n                else {\n                    handlers.get.errors.submit = res.message;\n                }\n            }\n        }),\n\n        getAll: useFormik({\n            initialValues: {\n                queryString: ''\n            },\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.getAll(props.token, values.queryString);\n\n                /* Display Products data */\n                if (res.status === \"success\") {\n                    console.log(\"All Products got\");\n                    alert(\"All products:\\n\" + JSON.stringify(res.data));\n                }\n                /* Display message error */\n                else {\n                    handlers.getAll.errors.submit = res.message;\n                }\n            }\n        }),\n\n        update: useFormik({\n            initialValues: {\n                name: '',\n                tag: '',\n                lowQuantity: 0\n            },\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.update(props.token, selectedProduct.id, {\n                    name: values.name,\n                    tag: values.tag,\n                    lowQuantity: values.lowQuantity\n                });\n\n                /* Display updated Product */\n                if (res.status === \"success\") {\n                    console.log(\"Product updated\");\n                    alert(\"This is the updated product:\\n\" + JSON.stringify(res.data) + \"\\nPlease reload the page\" +\n                        \" to see the changes.\");\n                }\n                /* Display message error */\n                else {\n                    handlers.update.errors.submit = res.message;\n                }\n            }\n        }),\n\n        sofDelete: useFormik({\n            initialValues: {},\n            onSubmit: async (values) => {\n\n                /* Send http request and get response */\n                const res = await management.softDelete(props.token, selectedProduct.id);\n\n                /* Display soft deleted message */\n                if (res.status === \"success\") {\n                    console.log(\"Product soft deleted\");\n                    alert(\"The product was soft deleted but still can be seen.\");\n                }\n                /* Display message error */\n                else{\n                    handlers.sofDelete.errors.submit = res.message;\n                }\n            }\n        }),\n\n        delete: useFormik({\n            initialValues: {},\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.delete(props.token, selectedProduct.id);\n\n                /* Display deleted message */\n                if (res.status === \"success\") {\n                    console.log(\"Product soft deleted\");\n                    alert(\"The product was deleted, please refresh the page.\");\n                }\n                /* Display message error */\n                else{\n                    handlers.sofDelete.errors.submit = res.message;\n                }\n            }\n        })\n    }\n\n    /* Fetch only once */\n    const [data, setFetching] = useState({fetching: false, data: \"\"});\n    useEffect(() => {\n        async function fetchAll() {\n            return await management.getAll(props.token, \"\");\n        }\n\n        if (data.fetching) {\n            fetchAll().then(res => {\n                setFetching({data: res.data, fetching: data.fetching})\n            });\n        }\n    }, [data.fetching]);\n\n\n    /* Product selection management */\n    const handleSelect = (event) => {\n        let index = event.target.value;\n        if (isInteger(index)) {\n            setGetSelection({id: data.data[index]._id, tag: data.data[index].tag, name: data.data[index].name});\n        } else {\n            setGetSelection({id: \"\", tag: \"\", name: \"\"});\n        }\n    };\n    const [selectedProduct, setGetSelection] = useState({id: \"\", tag: \"\", name: \"\"});\n\n\n    /**\n     * Select the form depending on the action\n     *\n     * @param action\n     * @returns {JSX.Element}\n     */\n    function renderFormContent(action) {\n        switch (action) {\n            case \"add\":\n                return <ProductFormAdd handler={handlers.add}/>\n\n            case \"get all\":\n                return <ProductFormGetAll token={props.token}/>\n\n            case \"update\":\n                /* Start by getting all products */\n                if (!data.fetching) {\n                    data.fetching = true;\n                }\n\n                return <ProductFormUpdate handler={handlers.update}\n                                          handleSelect={handleSelect}\n                                          listProducts={data.data}\n                                          selectedProduct={selectedProduct}\n                                          baseHandlerValue={\"\\o\"}/>;\n\n            case \"softDelete\":\n\n                /* Start by getting all products */\n                if (!data.fetching) {\n                    data.fetching = true;\n                }\n\n                return <ProductFormDelete title=\"Soft delete a Product\"\n                                          handler={handlers.sofDelete}\n                                          handleSelect={handleSelect}\n                                          listProducts={data.data}\n                                          filter={true}\n                                          selectedProduct={selectedProduct}/>;\n\n            case \"delete\":\n                /* Start by getting all products */\n                if (!data.fetching) {\n                    data.fetching = true;\n                }\n\n                return <ProductFormDelete title=\"Delete a Product\"\n                                          handler={handlers.delete}\n                                          handleSelect={handleSelect}\n                                          listProducts={data.data}\n                                          selectedProduct={selectedProduct}/>;\n\n            default:\n                return <div className=\"Error\">Selected action not Found</div>;\n        }\n    }\n\n    /* Stepper management */\n    const steps = ['Action', 'Details'];\n    const [activeStep, setActiveStep] = useState(0);\n\n    /* Actions management */\n    const [action, setAction] = React.useState('none');\n\n    return (\n        <React.Fragment>\n            <div className=\"container\">\n                <h2>Product management</h2>\n\n                {/* Stepper */}\n                <Stepper className=\"container bg-dark\" activeStep={activeStep}>\n                    {steps.map((label, index) => {\n                        return (\n                            <Step key={label}>\n                                <StepLabel>{label}</StepLabel>\n                            </Step>\n                        );\n                    })}\n                </Stepper>\n                <br/>\n\n                {/* Actions form or details form */}\n                {activeStep ?\n                    <center>\n                        {\n                            renderFormContent(action)\n                        }\n\n                        <br/>\n                        <div>\n                            {/* Back button */}\n                            <button\n                                className={\"btn-secondary\"}\n                                onClick={() => {\n                                    data.fetching = false;\n                                    setGetSelection({id: \"\", tag: \"\", name: \"\"})\n                                    setActiveStep(activeStep - 1);\n                                }}>\n                                BACK\n                            </button>\n                        </div>\n                    </center>\n                    :\n                    <center>\n                        {/* Action Form */}\n                        <ActionsForm action={action} setAction={setAction}/>\n                        <br/>\n\n                        {/* Next button */}\n                        <button\n                            hidden={action === \"none\"}\n                            className={\"btn-secondary\"}\n                            onClick={() => {\n                                setActiveStep(activeStep + 1)\n                            }}>\n                            NEXT\n                        </button>\n                    </center>\n                }\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default Product;","import React, {useRef} from \"react\";\nimport ReactToPrint from \"react-to-print\";\n\nconst QRCode = require('qrcode.react');\n\nexport default function PrinterWrapper(props) {\n    const linkToPrint = () => {\n        return (\n            <button className=\"btn-secondary\">Click To Print</button>\n        )\n    }\n\n    const componentRef = useRef();\n    return (\n        <div>\n            <div ref={componentRef}>\n                {\n                    props.codes.map((code) => {\n                        return <React.Fragment><QRCode value={code} includeMargin=\"true\"/>&nbsp;&nbsp;</React.Fragment>;\n                    })\n                }\n            </div>\n            <ReactToPrint trigger={linkToPrint} content={() => componentRef.current}/>\n        </div>\n    );\n}\n","import React, {useState} from \"react\";\nimport PrinterWrapper from \"./PrinterWrapper\";\nimport API_URL from \"../../utils/URL\";\nimport {useFormik} from \"formik\";\nimport {Col, Row} from \"react-bootstrap\";\n\nasync function askForQR(token) {\n    try {\n        const response = await fetch(API_URL + 'QR/add', {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n        });\n        return response.json();\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nasync function clear(token) {\n    try {\n        const response = await fetch(\n            API_URL + \"QR/\",\n            {\n                method: 'DELETE',\n                mode: 'cors',\n                cache: 'no-cache',\n                credentials: 'same-origin',\n                headers: {\n                    'Authorization': 'Bearer ' + token,\n                    'Content-Type': 'application/json'\n                },\n                redirect: 'follow',\n                referrerPolicy: 'no-referrer',\n            });\n        return response.status === 204 ? {status: \"success\"} : response.json();\n    } catch (e) {\n        console.log(e);\n    }\n}\n\n\nfunction QR(props) {\n\n    const [codes, setCodes] = useState([]);\n    const handleGeneration = useFormik({\n        initialValues: {\n            nbQr: 0\n        },\n        onSubmit: async (values) => {\n            if (values.nbQr < 1 || values.nbQr > 12) {\n                handleGeneration.errors.submit = \"Requested number of QR to generate belongs to [1, 12]\";\n            } else {\n                let tmpCodes = [];\n                for (let i = 0; i < values.nbQr; ++i) {\n                    await askForQR(props.token).then(qr => {\n                            tmpCodes.push(qr.data.code);\n                        }\n                    );\n                }\n                setCodes(tmpCodes);\n            }\n        }\n    })\n\n\n    return (\n        <div className=\"container\">\n            <h2>QR management</h2>\n            <br/>\n            <Row>\n                {/* Generation */}\n                <Col>\n                    <h4>Generate</h4>\n\n                    {/* Number orm */}\n                    <div className=\"container w-50\">\n                        <label className=\"form-check-label\">Enter the number</label>\n                        <form className=\"form-group\" onSubmit={handleGeneration.handleSubmit}>\n                            {/* Number of QR */}\n                            <input\n                                className=\"form-control\"\n                                placeholder=\"Number of QR\"\n                                id=\"nbQr\"\n                                name=\"nbQr\"\n                                type=\"number\"\n                                value={handleGeneration.values.nbQr}\n                                min=\"1\"\n                                max=\"12\"\n                                onChange={handleGeneration.handleChange}\n                                onBlur={handleGeneration.handleBlur}\n                            />\n                            <br/>\n\n                            {/* Submit button */}\n                            <button className=\"btn-success\" type=\"submit\">Submit</button>\n                        </form>\n                    </div>\n                    <br/>\n\n                    {/* QR images and print button*/}\n                    <div className=\"container-fluid\">\n                        {codes.length ? <PrinterWrapper codes={codes}/> : \"\"}\n                    </div>\n                </Col>\n\n                {/* Deletion */}\n                {/*\n                    <Col>\n                        <h4>Clear All</h4>\n                        <br/>\n                        <button className=\"btn-danger\" onClick={() => {\n                            clear(props.token).then(() => alert(\"All QR have been deleted\"));\n                        }}>\n                            Delete\n                        </button>\n                    </Col>\n                    */\n                }\n            </Row>\n        </div>\n    );\n}\n\nexport default QR;","function UserListElement({item, onSelect}) {\n\n    if(item.active) {\n        return <div className={\"UserSelection\"} onClick={() => onSelect(item)}>\n            {item.lastName} {item.firstName}, {item.email}\n        </div>;\n    } else {\n        return <div className=\"text-secondary\" onClick={() => onSelect(item)}>\n            {item.lastName} {item.firstName}, {item.email}\n        </div>;\n    }\n}\n\nexport default UserListElement;","import API_URL from \"../../utils/URL\";\nimport Spinner from \"../../utils/Spinner\";\nimport {Field, Form, Formik} from 'formik';\nimport validateEmail from \"../../utils/validateEmail\";\n\nasync function getData(url, data, token, method = 'POST') {\n    try {\n        const response = await fetch(url, {\n            method, // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        });\n        return response.json();\n    } catch (e) {\n        console.log(e);\n    }\n}\n\n\nconst validate = values => {\n    const errors = {};\n    if (!values.email) {\n        errors.email = \"Email cannot be empty\";\n    } else if (!validateEmail(values.email)) {\n        errors.email = \"Invalid email address\";\n    }\n    if (values.password && values.password.length > 0 && values.password.length < 8) {\n        errors.password = \"Password must have at least 8 character.\";\n    }\n\n\n    if (!values.firstName) {\n        errors.firstName = \"First name cannot be empty\";\n    }\n    if (!values.lastName) {\n        errors.lastName = \"Last name cannot be empty\";\n    }\n\n    return errors;\n}\n\nfunction getChanges(original, changed) {\n    let output = {};\n    if (original.firstName !== changed.firstName) {\n        output.firstName = changed.firstName;\n    }\n\n    if (original.firstName !== changed.firstName) {\n        output.firstName = changed.firstName;\n    }\n\n    if (original.lastName !== changed.lastName) {\n        output.lastName = changed.lastName;\n    }\n\n    if (original.role !== changed.role) {\n        output.role = changed.role;\n    }\n\n    if (original.email !== changed.email) {\n        output.email = changed.email;\n    }\n\n    if (changed.password && changed.password.length > 8) {\n        output.password = changed.password;\n    }\n    console.log(\"Changes\")\n    console.log(output)\n    return output;\n}\n\nconst UserForm = (props) => {\n    return (\n        <Formik\n            initialValues={props.userData}\n            validate={validate}\n            onSubmit={async (values, actions) => {\n\n                let res;\n                if (props.action === \"update\") {\n                    const data = getChanges(props.userData, values);\n                    res = await getData(API_URL + \"users/\" + props.userData.id, data, props.token, 'PATCH');\n                } else if (props.action === \"add\") {\n                    res = await getData(API_URL + \"users/signup\", values, props.token);\n                }\n\n                if (res.status === \"fail\") {\n                    actions.setFieldError(\"submit\", res.message);\n                } else {\n                    props.refreshHandler(res.data);\n                }\n            }}\n        >\n            {formik => (\n                <Form>\n                    <label className=\"form-check-label\" htmlFor=\"firstName\">First name </label>\n                    <Field\n                        className=\"form-control\"\n                        id=\"firstName\"\n                        name=\"firstName\"\n                        type=\"text\"\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        value={formik.values.firstName}\n                    />\n                    {formik.touched.firstName && formik.errors.firstName ?\n                        <div className=\"Error\">{formik.errors.firstName}</div> :\n                        <br/>}\n                    <label className=\"form-check-label\" htmlFor=\"lastName\">Last name </label>\n                    <Field\n                        className=\"form-control\"\n                        id=\"lastName\"\n                        name=\"lastName\"\n                        type=\"text\"\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        value={formik.values.lastName}\n                    />\n                    {formik.touched.lastName && formik.errors.lastName ?\n                        <div className=\"Error\">{formik.errors.lastName}</div> :\n                        <br/>}\n                    <label className=\"form-check-label\" htmlFor=\"email\">Email Address </label>\n                    <Field\n                        className=\"form-control\"\n                        id=\"email\"\n                        name=\"email\"\n                        type=\"email\"\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        value={formik.values.email}\n                    />\n                    {formik.touched.email && formik.errors.email ? <div className=\"Error\">{formik.errors.email}</div> :\n                        <br/>}\n\n                    <label className=\"form-check-label\" htmlFor=\"password\">Password </label>\n                    <Field\n                        className=\"form-control\"\n                        id=\"password\"\n                        name=\"password\"\n                        type=\"password\"\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        value={formik.values.password}\n                    />\n                    {formik.touched.password && formik.errors.password ?\n                        <div className=\"Error\">{formik.errors.password}</div> :\n                        <br/>}\n                    <label className=\"form-check-label\" htmlFor=\"role\">Role </label>\n                    <Field\n                        className=\"custom-select\"\n                        as=\"select\"\n                        id=\"role\"\n                        name=\"role\"\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        value={formik.values.role}\n                    >\n                        <option value={\"manager\"}>Manager</option>\n                        <option value={\"admin\"}>Admin</option>\n                    </Field>\n                    {formik.touched.firstName && formik.errors.firstName ?\n                        <div className=\"Error\">{formik.errors.firstName}</div> :\n                        <br/>}\n                    <br/>\n                    <button type=\"submit\">Submit</button>\n                    <Spinner enabled={formik.isSubmitting}/>\n                    {formik.errors.submit ? <div className=\"Error\">{formik.errors.submit}</div> :\n                        <br/>}\n                </Form>)}\n        </Formik>\n    );\n};\n\nexport default UserForm;","import {Button, Col, Container, Row} from 'react-bootstrap';\nimport UserForm from \"./UserForm\";\nimport API_URL from \"../../utils/URL\";\nimport {useEffect, useState} from \"react\";\n\nasync function del(url, token) {\n    try {\n        return fetch(url, {\n            method: 'DELETE', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url// body data type must match \"Content-Type\" header\n        });\n    } catch (e) {\n        console.log(e);\n    }\n}\n\n\nfunction UserManager({user, token, refreshHandler, formRefresh, deleteHandler}) {\n\n    const softDelete = async () => {\n        const res = await del(API_URL + \"users/\" + user._id, token);\n        if (res.status !== 204) {\n            await res.json();\n            console.log(res.message);\n        } else {\n            refreshHandler();\n        }\n\n    }\n\n    const hardDelete = async () => {\n\n        const res = await del(API_URL + \"users/hardDel/\" + user._id, token);\n        console.log(res);\n        if (res.status !== 204) {\n            await res.json();\n            console.log(res.message);\n\n        } else {\n            console.log(\"Calling handler\")\n            deleteHandler();\n        }\n    }\n\n    const [displayUpdateForm, setUpdate] = useState(false);\n    useEffect(() => {\n        if (displayUpdateForm) {\n            setUpdate(false);\n        }\n    }, [user]);\n\n    if (!user) {\n        return <div>\n            <h4>Add</h4>\n            <UserForm\n                userData={{firstName: \"\", lastName: \"\", email: \"\", password: \"\", role: \"manager\"}} action={\"add\"}\n                token={token} refreshHandler={refreshHandler}/>\n        </div>\n    }\n\n    return <Container fluid>\n        <Row>\n            <Col md={3} style={style}>Role</Col>\n            <Col md={3} style={style}>Email</Col>\n            <Col md={3} style={style}>First name</Col>\n            <Col md={3} style={style}>Last name</Col>\n        </Row>\n        <Row>\n            <Col md={3}>{user.role}</Col>\n            <Col md={3}>{user.email}</Col>\n            <Col md={3}>{user.firstName}</Col>\n            <Col md={3}>{user.lastName}</Col>\n        </Row>\n        <br/>\n        <Row>\n            <Col>\n                <Button variant=\"warning\" onClick={softDelete}>Disable</Button>\n            </Col>\n            <Col>\n                <Button variant=\"success\" onClick={() => {\n                    setUpdate(true)\n                }}>Update</Button>\n            </Col>\n            <Col>\n                <Button variant=\"danger\" onClick={hardDelete}>Delete</Button>\n            </Col>\n        </Row>\n        <br/>\n        {displayUpdateForm ?\n            <Row className=\"justify-content-md-center\">\n                <UserForm\n                    userData={{\n                        id: user._id,\n                        firstName: user.firstName,\n                        lastName: user.lastName,\n                        email: user.email,\n                        role: user.role\n                    }} action={\"update\"} token={token} refreshHandler={formRefresh}/>\n            </Row>\n            : \"\"\n        }\n    </Container>\n}\n\nexport default UserManager;\n\nconst style = {\"fontWeight\": \"bold\", \"borderBottom\": \"2px solid\", \"paddingBottom\": \"2px\"}","import React, {useState} from \"react\";\nimport List from \"../../utils/list/List\";\nimport Spinner from \"../../utils/Spinner\";\nimport UserListElement from \"./UserListElement\";\nimport {Col, Container, Row} from 'react-bootstrap';\nimport UserManager from \"./UserManager\";\n\n\nfunction UserManagementMenu(props) {\n    const [selected, setSelected] = useState(null);\n    const [refetchList, setRefreshList] = useState(false);\n\n    const refresh = () => {\n        setRefreshList(!refetchList);\n    }\n\n    const handleDelete = () => {\n        console.log(\"In delete handler\")\n        setRefreshList(!refetchList);\n        setSelected(null);\n    }\n\n    const refreshFrom = (data) => {\n        refresh();\n        setSelected(data);\n    }\n\n    function onSelectHandler(userSelected) {\n        console.log(\"Selected\")\n        console.log(userSelected);\n        if (selected) {\n            setSelected(userSelected._id === selected._id ? null : userSelected);\n        } else {\n            setSelected(userSelected);\n        }\n    }\n\n    function compareActive(a, b) {\n        if (a.active && !b.active) {\n            return -1;\n        } else if (!a.active && b.active) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n    function sortElement(a, b) {\n        return compareActive(a, b) || a.role.localeCompare(b.role) || a.lastName.localeCompare(b.lastName) || a.firstName.localeCompare(b.firstName);\n    }\n\n    return (\n        <Container fluid>\n            <h2>User management</h2>\n            <br/>\n            <Row>\n                <Col>\n                    <List token={props.token} item={UserListElement} spinner={Spinner} url={\"users\"}\n                          onSelect={onSelectHandler} sort={sortElement} refetch={refetchList}/>\n                </Col>\n                <Col>\n                    <UserManager user={selected} token={props.token} refreshHandler={refresh} formRefresh={refreshFrom}\n                                 deleteHandler={handleDelete}/>\n                </Col>\n            </Row>\n        </Container>\n    );\n}\nexport default UserManagementMenu;","import API_URL from \"../../utils/URL\";\nimport BaseManagement from \"../../utils/BaseManagement\";\n\n/**\n * Management specific to Locations\n *\n * @class LocationManagement\n */\nclass LocationManagement extends BaseManagement {\n\n    /**\n     * Constructor\n     */\n    constructor() {\n        super(API_URL + \"locations/\");\n    }\n\n    /**\n     * Add a Location\n     *\n     * @param token the token to send with query (user auth)\n     * @param data the data corresponding to Location model to add\n     * @returns {Promise<*>}\n     */\n    async add(token, data) {\n        return super.add(token, data);\n    }\n\n    /**\n     * Get a Location\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the Location\n     * @returns {Promise<*>}\n     */\n    async get(token, id) {\n        return super.get(token, id);\n    }\n\n    /**\n     * Get all Location\n     *\n     * @param token the token to send with query (user auth)\n     * @param queryString the string query to paginate / limit => ex: ?page=2&limit=20\n     * @returns {Promise<*>}\n     */\n    async getAll(token, queryString) {\n        return super.getAll(token, queryString);\n    }\n\n    /**\n     * Update a Location\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the Location\n     * @param data the data corresponding to Location model to update\n     * @returns {Promise<*>}\n     */\n    async update(token, id, data) {\n        return super.update(token, id, data);\n    }\n\n    /**\n     * Soft delete a Location\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the Location\n     * @returns {Promise<*>} the code status response\n     */\n    async softDelete(token, id) {\n        return super.softDelete(token, id);\n    }\n\n    /**\n     * Hard delete a Location\n     *\n     * @param token the token to send with query (user auth)\n     * @param id mongo _id of the Location\n     * @returns {Promise<*>} the code status response\n     */\n    async delete(token, id) {\n        return super.delete(token, id);\n    }\n}\n\nexport default LocationManagement;","import React from \"react\";\n\nfunction LocationFormAdd(props){\n    return (\n        <div className=\"\">\n            <h3>Add a Location</h3>\n            <form className=\"form-group\" onSubmit={props.handler.handleSubmit}>\n                {/* Name Input */}\n                <input\n                    className=\"form-control w-50\"\n                    placeholder=\"Name\"\n                    id=\"add_name\"\n                    name=\"name\"\n                    type=\"text\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.name}\n                />\n                <br/>\n\n                {/* Street Input */}\n                <input\n                    className=\"form-control w-50 \"\n                    placeholder=\"Street\"\n                    id=\"add_street\"\n                    name=\"street\"\n                    type=\"text\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.street}\n                />\n                <br/>\n\n                {/* noStreet Input */}\n                <input\n                    className=\"form-control w-50 \"\n                    placeholder=\"Street number\"\n                    id=\"add_noStreet\"\n                    name=\"noStreet\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.noStreet}\n                />\n                <br/>\n\n                {/* npa Input */}\n                <input\n                    className=\"form-control w-50 \"\n                    placeholder=\"NPA\"\n                    id=\"add_npa\"\n                    name=\"npa\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.npa}\n                />\n                <br/>\n\n                {/* city Input */}\n                <input\n                    className=\"form-control w-50 \"\n                    placeholder=\"City\"\n                    id=\"add_city\"\n                    name=\"city\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.city}\n                />\n                <br/>\n\n                {/* country Input */}\n                <input\n                    className=\"form-control w-50 \"\n                    placeholder=\"Country\"\n                    id=\"add_country\"\n                    name=\"country\"\n                    onChange={props.handler.handleChange}\n                    onBlur={props.handler.handleBlur}\n                    value={props.handler.values.country}\n                />\n\n                {/* Display error if submit failed */}\n                {props.handler.errors.submit ?\n                    <div className=\"Error\">{props.handler.errors.submit}</div> : <br/>}\n\n                {/* Submit button */}\n                <button className=\"btn-success\" type=\"submit\">Submit</button>\n            </form>\n        </div>\n    );\n}\n\nexport default LocationFormAdd;","import React from \"react\";\n\nfunction LocationListElement({item}) {\n    if(item.active) {\n        return <div className=\"container-fluid\">\n            <label className=\"form-check-label\">id</label>\n            <div className=\"form-control w-50\">{item._id}</div>\n\n            <label className=\"form-check-label\">name</label>\n            <div className=\"form-control w-50\">{item.name}</div>\n\n            <label className=\"form-check-label\">address</label>\n            <textarea\n                className=\"form-control w-50 \"\n                name=\"address\"\n                value={item.address.street + \" \" + item.address.noStreet + \"\\n\"\n                + item.address.npa + \" \" + item.address.city + \"\\n\" + item.address.country}\n                disabled\n            />\n            <br/>\n            <br/>\n        </div>;\n    } else {\n        return \"\";\n    }\n}\n\nexport default LocationListElement;","import React from \"react\";\nimport List from \"../../../utils/list/List\";\nimport LocationListElement from \"./LocationListElement\";\nimport Spinner from \"../../../utils/Spinner\";\n\nfunction LocationFormGetAll(props) {\n\n    return (\n        <React.Fragment>\n            <h3>Get all Locations</h3>\n            <List token={props.token} item={LocationListElement} spinner={Spinner} url={\"locations\"}/>\n        </React.Fragment>\n    );\n}\n\nexport default LocationFormGetAll;","import React, {useEffect, useState} from \"react\";\n\nfunction LocationFormUpdate(props) {\n\n    /* Init values only once */\n    const [init, setInit] = useState(false);\n    useEffect(() => {\n        props.handler.values.name = props.selectedLocation.name;\n        props.handler.values.street = props.selectedLocation.address.street;\n        props.handler.values.noStreet = props.selectedLocation.address.noStreet;\n        props.handler.values.npa = props.selectedLocation.address.npa;\n        props.handler.values.city = props.selectedLocation.address.city;\n        props.handler.values.country = props.selectedLocation.address.country;\n        setInit(!init);\n    }, [props.selectedLocation]);\n\n    return (\n        <React.Fragment>\n            <h3>Update a Location</h3>\n            <form className=\"form-group\" onSubmit={props.handler.handleSubmit}>\n                {props.listLocations ?\n                    <>\n                        {/* Id select */}\n                        <select\n                            className=\"custom-select w-50\"\n                            onChange={props.handleSelect}\n                        >\n                            <option selected>Select the id</option>\n                            {props.listLocations.map((option, index) => {\n                                if (option.active) {\n                                    return <option key={index} value={index}>\n                                        {option._id}\n                                    </option>;\n                                } else {\n                                    return \"\";\n                                }\n                            })}\n                        </select>\n                        <br/><br/>\n\n                        {/* Display id and tag according to selected name */}\n                        {props.selectedLocation.id ?\n                            <>\n                                {/* Name Input */}\n                                <label className=\"form-check-label\">Name</label>\n                                <input\n                                    className=\"form-control w-50\"\n                                    id=\"add_name\"\n                                    name=\"name\"\n                                    type=\"text\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={props.handler.values.name}\n                                />\n                                <br/>\n\n                                {/* Street Input */}\n                                <label className=\"form-check-label\">Street</label>\n                                <input\n                                    className=\"form-control w-50 \"\n                                    placeholder=\"Street\"\n                                    id=\"add_street\"\n                                    name=\"street\"\n                                    type=\"text\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={props.handler.values.street}\n                                />\n\n                                {/* noStreet Input */}\n                                <label className=\"form-check-label\">Street number</label>\n                                <input\n                                    className=\"form-control w-50 \"\n                                    placeholder=\"Street number\"\n                                    id=\"add_noStreet\"\n                                    name=\"noStreet\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={props.handler.values.noStreet}\n                                />\n\n                                {/* npa Input */}\n                                <label className=\"form-check-label\">NPA</label>\n                                <input\n                                    className=\"form-control w-50 \"\n                                    placeholder=\"NPA\"\n                                    id=\"add_npa\"\n                                    name=\"npa\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={props.handler.values.npa}\n                                />\n\n                                {/* city Input */}\n                                <label className=\"form-check-label\">City</label>\n                                <input\n                                    className=\"form-control w-50 \"\n                                    placeholder=\"City\"\n                                    id=\"add_city\"\n                                    name=\"city\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={props.handler.values.city}\n                                />\n\n                                {/* country Input */}\n                                <label className=\"form-check-label\">Country</label>\n                                <input\n                                    className=\"form-control w-50 \"\n                                    placeholder=\"Country\"\n                                    id=\"add_country\"\n                                    name=\"country\"\n                                    onChange={props.handler.handleChange}\n                                    onBlur={props.handler.handleBlur}\n                                    value={props.handler.values.country}\n                                />\n                            </>\n                            : \"\"}\n                    </>\n                    : <error>\n                        {/* If Locations could not be fetched */}\n                        Could not fetch data\n                    </error>}\n\n                {/* Display error if submit failed */}\n                {props.handler.errors.submit ?\n                    <div className=\"Error\">{props.handler.errors.submit}</div> : <br/>}\n\n                {/* Submit button */}\n                <button className=\"btn-success\" type=\"submit\">Submit</button>\n            </form>\n        </React.Fragment>\n    );\n\n}\n\nexport default LocationFormUpdate;","import React from \"react\";\n\nfunction LocationFormDelete(props) {\n    return (\n        <React.Fragment>\n            <h3>{props.title}</h3>\n            <form className=\"form-group\" onSubmit={props.handler.handleSubmit}>\n                {props.listLocations ?\n                    <>\n                        {/* Name select */}\n                        <select\n                            className=\"custom-select w-50\"\n                            onChange={props.handleSelect}\n                        >\n                            <option selected>Select the name</option>\n                            {props.listLocations.map((option, index) => {\n                                if (props.filter && !option.active) {\n                                    return \"\";\n                                } else {\n                                    return <option key={index} value={index}>\n                                        {option.name}\n                                    </option>\n                                }\n                            })}\n                        </select>\n                        <br/>\n\n                        {/* Display id and address according to selected name */}\n                        {props.selectedLocation.id ?\n                            <>\n                                <br/>\n                                <label className=\"form-check-label\">id</label>\n                                <div\n                                    className=\"form-control w-50\">{props.selectedLocation.id}</div>\n                                <br/>\n                                <label className=\"form-check-label\">address</label>\n                                <textarea\n                                    className=\"form-control w-50 \"\n                                    name=\"address\"\n                                    value={props.selectedLocation.address.street + \" \" +\n                                    props.selectedLocation.address.noStreet + \"\\n\" +\n                                    props.selectedLocation.address.npa + \" \" +\n                                    props.selectedLocation.address.city + \"\\n\" +\n                                    props.selectedLocation.address.country}\n                                    disabled\n                                />\n                            </>\n                            : \"\"}\n                    </>\n                    : <error>\n                        {/* If Products could not be fetched */}\n                        Could not fetch data\n                    </error>}\n\n                {/* Display error if submit failed */}\n                {props.handler.errors.submit ?\n                    <div className=\"Error\">{props.handler.errors.submit}</div> : <br/>}\n\n                {/* Submit button */}\n                <button className=\"btn-danger\" type=\"submit\">Submit</button>\n            </form>\n        </React.Fragment>\n    );\n}\n\nexport default LocationFormDelete;","import {isInteger, useFormik} from \"formik\";\nimport LocationManagement from \"./LocationManagement\";\nimport React, {useEffect, useState} from \"react\";\nimport {\n    Step,\n    StepLabel,\n    Stepper\n} from '@material-ui/core';\nimport ActionsForm from \"../../utils/ActionsForm\";\nimport LocationFormAdd from \"./LocationdetailsForm/LocationFormAdd\";\nimport LocationFormGetAll from \"./LocationdetailsForm/LocationFormGetAll\";\nimport LocationFormUpdate from \"./LocationdetailsForm/LocationFormUpdate\";\nimport LocationFormDelete from \"./LocationdetailsForm/LocationFormDelete\";\n\nfunction Location(props) {\n\n    const management = new LocationManagement();\n\n    /* Formik handlers */\n    const handlers = {\n        add: useFormik({\n            initialValues: {\n                name: '',\n                street: '',\n                noStreet: '',\n                npa: '',\n                city: '',\n                country: ''\n            },\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.add(props.token, {\n                    name: values.name,\n                    address: {\n                        street: values.street,\n                        noStreet: values.noStreet,\n                        npa: values.npa,\n                        city: values.city,\n                        country: values.country\n                    }\n                });\n\n                /* Display Location Name */\n                if (res.status === \"success\") {\n                    console.log(\"Location added\");\n                    alert(\"The location: \" + JSON.stringify(res.data.name) + \" has correctly been added\");\n                }\n                /* Display message error */\n                else {\n                    handlers.add.errors.submit = res.message;\n                }\n            }\n        }),\n\n        get: useFormik({\n            initialValues: {\n                id: ''\n            },\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.get(props.token, values.id);\n\n                /* Display Location data */\n                if (res.status === \"success\") {\n                    console.log(\"Location got\");\n                    alert(\"Location requested:\\n\" + JSON.stringify(res.data));\n                }\n                /* Display message error */\n                else {\n                    handlers.get.errors.submit = res.message;\n                }\n            }\n        }),\n\n        getAll: useFormik({\n            initialValues: {\n                queryString: ''\n            },\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.getAll(props.token, values.queryString);\n\n                /* Display Locations data */\n                if (res.status === \"success\") {\n                    console.log(\"All Locations got\");\n                    alert(\"All locations:\\n\" + JSON.stringify(res.data));\n                }\n                /* Display message error */\n                else {\n                    handlers.getAll.errors.submit = res.message;\n                }\n            }\n        }),\n\n        update: useFormik({\n            initialValues: {\n                name: '',\n                street: '',\n                noStreet: '',\n                npa: '',\n                city: '',\n                country: ''\n            },\n            onSubmit: async (values) => {\n\n                /* Send http request and get response */\n                const res = await management.update(props.token, selectedLocation.id, {\n                    name: values.name,\n                    address: {\n                        street: values.street,\n                        noStreet: values.noStreet,\n                        npa: values.npa,\n                        city: values.city,\n                        country: values.country\n                    }\n                });\n\n                /* Display updated Location */\n                if (res.status === \"success\") {\n                    console.log(\"Location updated\");\n                    alert(\"This is the updated location:\\n\" + JSON.stringify(res.data) + \"\\nPlease reload the page\" +\n                        \" to see the changes.\");\n                }\n                /* Display message error */\n                else {\n                    handlers.update.errors.submit = res.message;\n                }\n            }\n        }),\n\n        sofDelete: useFormik({\n            initialValues: {},\n            onSubmit: async (values) => {\n\n                /* Send http request and get response */\n                const res = await management.softDelete(props.token, selectedLocation.id);\n\n                /* Display soft deleted message */\n                if (res.status === \"success\") {\n                    console.log(\"Location soft deleted\");\n                    alert(\"The location was soft deleted but still can be seen.\");\n                }\n                /* Display message error */\n                else {\n                    handlers.sofDelete.errors.submit = res.message;\n                }\n            }\n        }),\n\n        delete: useFormik({\n            initialValues: {},\n            onSubmit: async (values) => {\n                /* Send http request and get response */\n                const res = await management.delete(props.token, selectedLocation.id);\n\n                /* Display deleted message */\n                if (res.status === \"success\") {\n                    console.log(\"Location soft deleted\");\n                    alert(\"The location was deleted, please refresh the page.\");\n                }\n                /* Display message error */\n                else {\n                    handlers.sofDelete.errors.submit = res.message;\n                }\n            }\n        })\n\n    }\n\n    /* Fetch only once */\n    const [data, setFetching] = useState({fetching: false, data: \"\"});\n    useEffect(() => {\n        async function fetchAll() {\n            return await management.getAll(props.token, \"\");\n        }\n\n        if (data.fetching) {\n            fetchAll().then(res => {\n                setFetching({data: res.data, fetching: data.fetching})\n            });\n        }\n    }, [data.fetching]);\n\n\n    /* Location selection management */\n    const handleSelect = (event) => {\n        let index = event.target.value;\n        if (isInteger(index)) {\n            setGetSelection({id: data.data[index]._id, name: data.data[index].name, address: data.data[index].address});\n        } else {\n            setGetSelection({id: \"\", name: \"\", address: {street: \"\", noStreet: \"\", npa: \"\", city: \"\", country: \"\"}});\n        }\n    };\n    const [selectedLocation, setGetSelection] = useState({\n        id: \"\",\n        name: \"\",\n        address: {street: \"\", noStreet: \"\", npa: \"\", city: \"\", country: \"\"}\n    });\n\n\n    /**\n     * Select the form depending on the action\n     *\n     * @param action\n     * @returns {JSX.Element}\n     */\n    function renderFormContent(action) {\n        switch (action) {\n            case \"add\":\n                return <LocationFormAdd handler={handlers.add}/>\n\n            case \"get all\":\n                return <LocationFormGetAll token={props.token}/>\n\n            case \"update\":\n                /* Start by getting all locations */\n                if (!data.fetching) {\n                    data.fetching = true;\n                }\n\n                return <LocationFormUpdate handler={handlers.update}\n                                           handleSelect={handleSelect}\n                                           listLocations={data.data}\n                                           selectedLocation={selectedLocation}/>;\n\n            case \"softDelete\":\n                /* Start by getting all locations */\n                if (!data.fetching) {\n                    data.fetching = true;\n                }\n\n                return <LocationFormDelete title=\"Soft delete a Location\"\n                                           handler={handlers.sofDelete}\n                                           handleSelect={handleSelect}\n                                           listLocations={data.data}\n                                           filter={true}\n                                           selectedLocation={selectedLocation}/>;\n\n            case \"delete\":\n                /* Start by getting all locations */\n                if (!data.fetching) {\n                    data.fetching = true;\n                }\n\n                return <LocationFormDelete title=\"Delete a Location\"\n                                           handler={handlers.delete}\n                                           handleSelect={handleSelect}\n                                           listLocations={data.data}\n                                           selectedLocation={selectedLocation}/>;\n\n            default:\n                return <div className=\"Error\">Selected action not Found</div>;\n        }\n    }\n\n    /* Stepper management */\n    const steps = ['Action', 'Details'];\n    const [activeStep, setActiveStep] = useState(0);\n\n    /* Actions management */\n    const [action, setAction] = React.useState('none');\n\n    return (\n        <React.Fragment>\n            <div className=\"container\">\n                <h2>Location management</h2>\n\n                {/* Stepper */}\n                <Stepper className=\"container bg-dark\" activeStep={activeStep}>\n                    {steps.map((label, index) => {\n                        return (\n                            <Step key={label}>\n                                <StepLabel>{label}</StepLabel>\n                            </Step>\n                        );\n                    })}\n                </Stepper>\n                <br/>\n\n                {/* Actions form or details form */}\n                {activeStep ?\n                    <center>\n                        {\n                            renderFormContent(action)\n                        }\n\n                        <br/>\n                        <div>\n                            {/* Back button */}\n                            <button\n                                className={\"btn-secondary\"}\n                                onClick={() => {\n                                    data.fetching = false;\n                                    setGetSelection({\n                                        id: \"\",\n                                        name: \"\",\n                                        address: {street: \"\", noStreet: \"\", npa: \"\", city: \"\", country: \"\"}\n                                    })\n                                    setActiveStep(activeStep - 1);\n                                }}>\n                                BACK\n                            </button>\n                        </div>\n                    </center>\n                    :\n                    <center>\n                        {/* Action Form */}\n                        <ActionsForm action={action} setAction={setAction}/>\n                        <br/>\n\n                        {/* Next button */}\n                        <button\n                            hidden={action === \"none\"}\n                            className={\"btn-secondary\"}\n                            onClick={() => {\n                                setActiveStep(activeStep + 1)\n                            }}>\n                            NEXT\n                        </button>\n                    </center>\n                }\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default Location;","function LocationListElement({item, onSelect}) {\n    return <div className={item.active ? \"LocationList\":\"text-secondary\"} onClick={() => onSelect(item)}>\n        {item.name}\n    </div>;\n}\n\nexport default LocationListElement;","function ElementListElement({item, onSelect}) {\n    const a = new Date(item.entryDate);\n    if(!item.active){\n        return null\n    }\n    return <div className={\"LocationList\"} >\n        Price {item.price} | Entry Date: {a.toLocaleString('en-gb',\n        { year: 'numeric', month: 'numeric', day: 'numeric' })}\n    </div>;\n}\n\nexport default ElementListElement;","import {useEffect, useState} from \"react\";\nimport API_URL from \"../../../utils/URL\";\nimport ElementListElement from \"./ElementListElement\";\nimport {groupBy} from \"lodash\";\nimport Spinner from \"../../../utils/Spinner\";\n\nfunction ElementByLocationManager({locationId, token, ...props}) {\n    const [data, setData] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(\"\");\n\n\n    useEffect(() => {\n        const fetchStories = () => {\n\n                fetch(API_URL + \"elements/local/\" + locationId, {\n                    method: 'GET', // *GET, POST, PUT, DELETE, etc.\n                    mode: 'cors', // no-cors, *cors, same-origin\n                    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n                    credentials: 'same-origin', // include, *same-origin, omit\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': 'Bearer ' + token\n                        // 'Content-Type': 'application/x-www-form-urlencoded',\n                    },\n                    redirect: 'follow', // manual, *follow, error\n                    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n                    //body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n                }).then(response => {\n                    return response.json();\n                }).then(result => {\n                    setIsLoading(false);\n                    if (result.status === \"fail\") {\n                        setError(result.message);\n                    } else {\n                        setData(groupBy(result.data, function (element) {\n                            return element.idProduct._id;\n                        }));\n                    }\n                }).catch(err => setError(\"an error occured\"));\n        }\n\n            fetchStories();\n        }, [locationId]\n    );\n\n    if (error) {\n        return <div className=\"Error\">{error}</div>;\n    }\n    if (isLoading) {\n        return <Spinner enable={isLoading}/>\n    }\n\n    if (Object.keys(data).length > 0){\n        return Object.keys(data).map(key => {\n            return <div key={key}>\n                <h2>{data[key][0].idProduct.name}</h2>\n                {data[key].map(item => {\n                    return <ElementListElement key={item._id} item={item}/>\n                })} </div>\n        });\n    }else{\n        return <h3>No element in this site</h3>\n    }\n\n}\n\nexport default ElementByLocationManager;","import React, {useState} from \"react\";\nimport List from \"../../../utils/list/List\";\nimport Spinner from \"../../../utils/Spinner\";\nimport {Col, Container, Row} from 'react-bootstrap';\nimport LocationListElement from \"./LocationListElement\";\nimport ElementByLocationManager from \"./ElementByLocationManager\";\n\n\nfunction LocationManager({token}) {\n    const [selected, setSelected] = useState(null);\n\n    function onSelectHandler(userSelected) {\n        if (selected) {\n            setSelected(userSelected._id === selected._id ? null : userSelected);\n        } else {\n            setSelected(userSelected);\n        }\n    }\n\n\n    function compareActive(a, b) {\n        if (a.active && !b.active) {\n            return -1;\n        } else if (!a.active && b.active) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n\n    function sortElement(a, b) {\n        return compareActive(a, b) || a.name.localeCompare(b.name);\n    }\n\n    return <Container fluid>\n        <br/>\n        <Row>\n            <Col>\n                <h2>Location Selection</h2>\n                <List token={token} item={LocationListElement} spinner={Spinner} url={\"locations\"}\n                      onSelect={onSelectHandler} sort={sortElement}/>\n            </Col>\n            <Col>\n                {selected && <ElementByLocationManager token={token} locationId={selected._id}/>}\n            </Col>\n        </Row>\n    </Container>\n        ;\n}\nexport default LocationManager;","function ProductListElement({item, onSelect}) {\n\n    return <div className={item.active ? \"LocationList\":\"text-secondary\"} onClick={() => onSelect(item)}>\n        {item.name}\n    </div>;\n}\n\nexport default ProductListElement;","function ElementListElement({item, onSelect}) {\n    const a = new Date(item.entryDate);\n    if(!item.active){\n        return null\n    }\n    return <div className={\"ProductList\"} >\n        Price {item.price} | Entry Date: {a.toLocaleString('en-gb',\n        { year: 'numeric', month: 'numeric', day: 'numeric' })}\n    </div>;\n}\n\nexport default ElementListElement;","import {useEffect, useState} from \"react\";\nimport API_URL from \"../../../utils/URL\";\nimport ElementListElement from \"./ElementListElement\";\nimport {groupBy} from \"lodash\";\nimport Spinner from \"../../../utils/Spinner\";\n\nfunction ElementByProductManager({productId, token, ...props}) {\n    const [data, setData] = useState([]);\n    const [rawData, setRawData] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(\"\");\n\n    useEffect(() => {\n        const fetchStories = () => {\n                fetch(API_URL + \"elements/product/\" + productId, {\n                    method: 'GET', // *GET, POST, PUT, DELETE, etc.\n                    mode: 'cors', // no-cors, *cors, same-origin\n                    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n                    credentials: 'same-origin', // include, *same-origin, omit\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': 'Bearer ' + token\n                        // 'Content-Type': 'application/x-www-form-urlencoded',\n                    },\n                    redirect: 'follow', // manual, *follow, error\n                    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n                    //body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n                }).then(response => {\n                    return response.json();\n                }).then(result => {\n                    setIsLoading(false);\n                    if (result.status === \"fail\") {\n                        setError(result.message);\n                    } else {\n                        setRawData(result.data.filter(item => item.active));\n                        setData(groupBy(result.data, function (element) {\n                            if(!element.idLocation){\n                                console.log(element);\n                            }\n\n                            return element.idLocation._id;\n                        }));\n                    }\n                }).catch(err => {\n                    console.log(err)\n                    setError(\"an error occured\")\n                });\n        }\n\n            fetchStories();\n        }, [productId]\n    );\n\n    if (error) {\n        return <div className=\"Error\">{error}</div>;\n    }\n    if (isLoading) {\n        return <Spinner enable={isLoading}/>\n    }\n\n    if (Object.keys(data).length > 0){\n        return <div>\n            <h2>In stock: {rawData.length}</h2>\n            {Object.keys(data).map(key => {\n            return <div key={key}>\n                <h2>{data[key][0].idLocation.name}</h2>\n                {data[key].map(item => {\n                    return <ElementListElement key={item._id} item={item}/>\n                })} </div>\n        })}\n            </div>\n    }else{\n        return <h3>No element for this product</h3>\n    }\n}\n\nexport default ElementByProductManager;","import React, {useState} from \"react\";\nimport List from \"../../../utils/list/List\";\nimport Spinner from \"../../../utils/Spinner\";\nimport {Col, Container, Row} from 'react-bootstrap';\nimport ProductListElement from \"./ProductListElement\";\nimport ElementByProductManager from \"./ElementByProductManager\";\n\n\nfunction ProductManager({token}) {\n    const [selected, setSelected] = useState(null);\n\n    function onSelectHandler(userSelected) {\n        if (selected) {\n            setSelected(userSelected._id === selected._id ? null : userSelected);\n        } else {\n            setSelected(userSelected);\n        }\n    }\n\n    function compareActive(a, b) {\n        if (a.active && !b.active) {\n            return -1;\n        } else if (!a.active && b.active) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n    function sortElement(a, b) {\n        return compareActive(a, b) || a.name.localeCompare(b.name);\n    }\n\n    return <Container fluid>\n        <br/>\n        <Row>\n            <Col>\n                <h2>Products Selection</h2>\n                <List token={token} item={ProductListElement} spinner={Spinner} url={\"products\"}\n                      onSelect={onSelectHandler} sort={sortElement}/>\n            </Col>\n            <Col>\n                {selected && <ElementByProductManager token={token} productId={selected._id}/>}\n            </Col>\n        </Row>\n    </Container>\n        ;\n}\nexport default ProductManager;","function ProductListElement({item, onSelect}) {\n    return <div className={item.active ? \"LocationList\":\"text-secondary\"} onClick={() => onSelect(item)}>\n        {item.name}\n    </div>;\n}\n\nexport default ProductListElement;","import {useEffect, useState} from \"react\";\nimport API_URL from \"../../../utils/URL\";\nimport {groupBy} from \"lodash\";\nimport Spinner from \"../../../utils/Spinner\";\nimport {VictoryAxis, VictoryBar, VictoryChart, VictoryStack} from 'victory';\n\nfunction HistoryByProductManager({productId, token, ...props}) {\n    const [data, setData] = useState([]);\n    const [rawData, setRawData] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(\"\");\n\n    useEffect(() => {\n            const fetchStories = () => {\n                fetch(API_URL + \"events/element/product/\" + productId, {\n                    method: 'GET', // *GET, POST, PUT, DELETE, etc.\n                    mode: 'cors', // no-cors, *cors, same-origin\n                    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n                    credentials: 'same-origin', // include, *same-origin, omit\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': 'Bearer ' + token\n                        // 'Content-Type': 'application/x-www-form-urlencoded',\n                    },\n                    redirect: 'follow', // manual, *follow, error\n                    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n                    //body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n                }).then(response => {\n                    return response.json();\n                }).then(result => {\n                    setIsLoading(false);\n                    if (result.status === \"fail\") {\n                        setError(result.message);\n                    } else {\n                        setRawData(result.data);\n                        setData(groupBy(result.data, function (element) {\n                            return element.change;\n                        }));\n                    }\n                }).catch(err => {\n                    console.log(err)\n                    setError(\"an error occured\")\n                });\n            }\n\n            fetchStories();\n        }, [productId]\n    );\n\n    if (error) {\n        return <div className=\"Error\">{error}</div>;\n    }\n    if (isLoading) {\n        return <Spinner enable={isLoading}/>\n    }\n\n    const nbCreated = data.Creation ? data.Creation.length : 0;\n    const nbMoved = data.Move ? data.Move.length : 0;\n    const nbRemoved = data.Remove ? data.Remove.length : 0;\n    const dataWithDate = rawData.map(item => {\n        item.time = new Date(item.time).setHours(0, 0, 0, 0);\n        return item;\n    });\n    const dataToDisplay = groupBy(dataWithDate, function (item) {\n        return item.change;\n    });\n\n    Object.keys(dataToDisplay).forEach(keys => {\n        dataToDisplay[keys] = groupBy(dataToDisplay[keys], function (item) {\n            return item.time;\n        })\n        Object.keys(dataToDisplay[keys]).forEach(item => {\n            dataToDisplay[keys][item] = {value: dataToDisplay[keys][item].length, date: new Date(parseInt(item))}\n        })\n    })\n\n\n    if (Object.keys(data).length > 0) {\n        return <>\n            <h3>Current quantity: {nbCreated - nbRemoved}</h3>\n            <h3>Element added: {nbCreated}</h3>\n            {data.Remove && <h3>Element removed: {nbRemoved}</h3>}\n            {data.Move && <h3>Element moved: {nbMoved}</h3>}\n            <VictoryChart>\n                <VictoryAxis\n\n                    tickFormat={(x) => new Date(x).toLocaleString('en-gb',\n                        {year: 'numeric', month: 'numeric', day: 'numeric'})}\n                />\n                <VictoryStack>\n                    {dataToDisplay.Creation && <VictoryBar\n                        data={Object.values(dataToDisplay.Creation)}\n                        x=\"date\"\n                        y=\"value\"\n                        style={{\n                            data: {\n                                fill: \"#18ff00\",\n                                fillOpacity: 0.7,\n                                strokeWidth: 3\n                            },\n                            labels: {\n                                fontSize: 15,\n                                fill: \"#c43a31\"\n                            }\n                        }}\n                    /> }\n                    { dataToDisplay.Remove && <VictoryBar\n                        data={Object.values(dataToDisplay.Remove)}\n                        x=\"date\"\n                        y=\"value\"\n                        style={{\n                            data: {\n                                fill: \"#ff0000\",\n                                fillOpacity: 0.7,\n                                strokeWidth: 3\n                            },\n                            labels: {\n                                fontSize: 15,\n                                fill: \"#c43a31\"\n                            }\n                        }}\n                    />}\n                    {dataToDisplay.Move && <VictoryBar\n                        data={Object.values(dataToDisplay.Move)}\n                        x=\"date\"\n                        y=\"value\"\n                        style={{\n                            data: {\n                                fill: \"#ffbf00\",\n                                fillOpacity: 0.7,\n                                strokeWidth: 3\n                            },\n                            labels: {\n                                fontSize: 15,\n                                fill: \"#c43a31\"\n                            }\n                        }}\n                    />}\n                </VictoryStack>\n            </VictoryChart>\n        </>\n    } else {\n        return <h3>No element for this product</h3>\n    }\n}\n\nexport default HistoryByProductManager;","import React, {useState} from \"react\";\nimport List from \"../../../utils/list/List\";\nimport Spinner from \"../../../utils/Spinner\";\nimport {Col, Container, Row} from 'react-bootstrap';\nimport ProductListElement from \"./ProductListElement\";\nimport HistoryByProductManager from \"./HistoryByProductManager\";\n\n\nfunction HistoryManager({token}) {\n    const [selected, setSelected] = useState(null);\n\n    function onSelectHandler(userSelected) {\n        if (selected) {\n            setSelected(userSelected._id === selected._id ? null : userSelected);\n        } else {\n            setSelected(userSelected);\n        }\n    }\n\n    function compareActive(a, b) {\n        if (a.active && !b.active) {\n            return -1;\n        } else if (!a.active && b.active) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n    function sortElement(a, b) {\n        return compareActive(a, b) || a.name.localeCompare(b.name);\n    }\n\n    return <Container fluid>\n        <br/>\n        <Row>\n            <Col>\n                <h2>Products Selection</h2>\n                <List token={token} item={ProductListElement} spinner={Spinner} url={\"products\"}\n                      onSelect={onSelectHandler} sort={sortElement}/>\n            </Col>\n            <Col>\n                {selected && <HistoryByProductManager token={token} productId={selected._id}/>}\n            </Col>\n        </Row>\n    </Container>\n        ;\n}\nexport default HistoryManager;","import React from \"react\";\nimport {Tab, Tabs} from 'react-bootstrap';\nimport LocationManager from \"./LocationManagement/LocationManager\";\nimport ProductManager from \"./ProductManagement/ProductManager\";\nimport HistoryManager from \"./HistoryDisplay/HistoryManager\";\n\n\nfunction StocksManagerMenu(props) {\n\n    return <Tabs defaultActiveKey=\"history\" id=\"StockManagerMenu\">\n        <Tab eventKey=\"product\" title=\"Products\">\n            <ProductManager token={props.token}/>\n        </Tab>\n        <Tab eventKey=\"location\" title=\"Location\">\n            <LocationManager token={props.token}/>\n        </Tab>\n        <Tab eventKey=\"history\" title=\"History\">\n            <HistoryManager token={props.token}/>\n        </Tab>\n    </Tabs>\n        ;\n}\nexport default StocksManagerMenu;","function LogListElement({item, onSelect}) {\n    const time =new Date(item.time)\n    return <div className={\"LogListElement\"}>\n        <tr>\n            <td width={\"20%\"}>{item.user.email}</td>\n            <td width={\"40%\"}>{time.toLocaleString('en-GB', {hour12: false})}</td>\n            <td width={\"20%\"}>{item.ip}</td>\n            <td width={\"20%\"}>{item.userAgent.substring(0, item.userAgent.indexOf(\"/\"))}</td>\n        </tr>\n    </div>;\n}\n\nexport default LogListElement;","function LogListElementNoUser({item, onSelect}) {\n    const time =new Date(item.time)\n    return <div className={\"LogListElement\"}>\n        <tr>\n            <td  width={\"20%\"} > {time.toLocaleString('en-GB', {hour12: false})}</td>\n            <td  width={\"20%\"}>{item.ip}</td>\n            <td  width={\"20%\"}>{item.userAgent.substring(0, item.userAgent.indexOf(\"/\"))}</td>\n        </tr>\n    </div>;\n}\n\nexport default LogListElementNoUser;","import Spinner from \"../../../utils/Spinner\";\nimport LogListElementNoUser from \"./LogListElementNoUser\";\nimport List from \"../../../utils/list/List\";\n\nfunction LogByUserManager({user, token, ...props}) {\n\n    return <div>\n        <h2>{user.email}</h2>\n        <List token={token} item={LogListElementNoUser} spinner={Spinner} url={\"events/connections/user/\"+user._id} refetch={user}/>\n    </div>;\n}\n\nexport default LogByUserManager;","import React, {useState} from \"react\";\nimport List from \"../../../utils/list/List\";\nimport Spinner from \"../../../utils/Spinner\";\nimport {Col, Container, Row} from 'react-bootstrap';\nimport LogListElement from \"./LogListElement\";\nimport UserListElement from \"../../user/UserListElement\";\nimport LogByUserManager from \"./LogByUserManager\";\n\n\nfunction UserLogManager({token}) {\n    const [selected, setSelected] = useState(null);\n\n    function onSelectHandler(userSelected) {\n        console.log(\"Selected\")\n        console.log(userSelected);\n        if (selected) {\n            setSelected(userSelected._id === selected._id ? null : userSelected);\n        } else {\n            setSelected(userSelected);\n        }\n    }\n\n    function sortElement(a, b) {\n        return a.role.localeCompare(b.role) || a.lastName.localeCompare(b.lastName) || a.firstName.localeCompare(b.firstName);\n    }\n\n    return <Container fluid>\n        <Row>\n            <Col>\n                <h2>User Connections</h2>\n                <List token={token} item={LogListElement} spinner={Spinner} url={\"events/connections/\"}\n                      queryOptions={\"populateField=user&populateValue[user]=email&populateValue[user]=role&sort=-time\"}/>\n\n            </Col>\n            <Col>\n                <h2>Select user for more details</h2>\n                <List token={token} item={UserListElement} spinner={Spinner} url={\"users\"}\n                      onSelect={onSelectHandler} sort={sortElement}/>\n            </Col>\n            {selected != null && <Col>\n                <LogByUserManager user={selected} token={token}/>\n            </Col>}\n        </Row>\n\n\n    </Container>\n        ;\n}\nexport default UserLogManager;","function AlertListElement({item, onSelect}) {\n    return <div className={\"ProductList\"} >\n        {item?.idElement?.idProduct?.name} | {new Date(item?.idElement?.exitDate).toLocaleString('en-gb',\n        { year: 'numeric', month: 'numeric', day: 'numeric' })} | {item?.idElement?.idLocation?.name}\n    </div>;\n}\n\nexport default AlertListElement;","import React from \"react\";\nimport List from \"../../utils/list/List\";\nimport AlertListElement from \"./AlertListElement\";\n\n\nfunction AlertDisplay(props) {\n\n    return <div className=\"AlertManager\">\n        <em>Element are close to their limit date</em>\n        <List token={props.token} url={\"alerts/elements\"} item={AlertListElement} queryOptions=\"\"/>\n    </div>;\n}\n\nexport default AlertDisplay;","import {Button} from \"react-bootstrap\";\n\nfunction AlertListProduct({item, onSelect}) {\n    return <div className={\"ProductList\"} >\n        {item.idProduct.name} | less than {item.idProduct.lowQuantity}\n    </div>;\n}\n\nexport default AlertListProduct;","import React from \"react\";\nimport List from \"../../utils/list/List\";\nimport AlertListProduct from \"./AlertListProduct\";\nimport Spinner from \"../../utils/Spinner\";\n\n\nfunction AlertProductDisplay({token}) {\n\n    return <div className=\"AlertManagerProduct\">\n        <h2>Low Quantity threshold</h2>\n        <List token={token} item={AlertListProduct} spinner={Spinner} url={\"alerts/products/\"}\n              queryOptions={\"populateField=idProduct&populateValue[idProduct]=name&populateValue[idProduct]=lowQuantity\"}\n        />\n    </div>;\n}\n\nexport default AlertProductDisplay;","import React from \"react\";\nimport {Col, Container, Row} from 'react-bootstrap';\nimport AlertDisplay from \"./AlertDisplay\";\nimport AlertProductDisplay from \"./AlertProductDisplay\";\n\n\nfunction AlertManager({token}) {\n\n\n    return <Container fluid>\n        <Row>\n            <Col>\n                <h2>Element alert</h2>\n                <AlertDisplay token={token}/>\n            </Col>\n            <Col>\n                <AlertProductDisplay token={token}/>\n            </Col>\n        </Row>\n    </Container>\n        ;\n}\n\nexport default AlertManager;","import React from \"react\";\nimport {BrowserRouter as Router, Link, Route, Switch} from \"react-router-dom\";\nimport Navigation from \"./NavAdmin\";\nimport About from \"./About\";\nimport Product from \"../admin/product/Product\";\nimport QR from \"../admin/QR/QR\";\nimport UserManagementMenu from \"../admin/user/UserManagementMenu\";\nimport Location from \"../admin/location/Location\";\nimport StocksManagerMenu from \"../admin/stocks/StocksManagerMenu\";\nimport UserLogManager from \"../admin/logs/LogsManagement/UserLogManager\";\nimport AlertManager from \"../admin/alert/AlertManager\";\n\n/* This home page is specific to Admins */\nfunction HomePage(props) {\n    return (\n        <div>\n            <Router>\n                {/* Navigation bar */}\n                <Navigation handleLogOut={props.handleLogOut}/>\n\n                {/* Pages per route */}\n                <Switch>\n                    {/* Home page */}\n                    <Route path=\"/\" exact component={() =>\n                        <div className=\"container\">\n                            <div className=\"home\">\n                                {/* Welcome message */}\n                                <br/>\n                                <h1>Welcome {props.user.firstName}</h1>\n                                <p>This is your home page.<br/>\n                                    From here, you can access and manage different items</p>\n                                <br/>\n\n                                {/* Row with management and user cards */}\n                                <div className=\"row align-content-center\">\n\n                                    {/* User card with personal data */}\n                                    <div className=\"col\">\n                                        <div className=\"card bg-dark mb-3\">\n                                            <div className=\"card-body\">\n                                                <h3 className=\"card-title\">Personal data</h3>\n                                                <p className=\"card-text\">First Name: {props.user.firstName}<br/>\n                                                    Last Name: {props.user.lastName}<br/>\n                                                    Email: {props.user.email}<br/>\n                                                    Role: {props.user.role}\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Management card with links to specific pages */}\n                                    <div className=\"col card bg-dark mb-3\">\n                                        <div className=\"card-body\">\n                                            {/* Card title */}\n                                            <h3 className=\"card-title\">Management</h3>\n\n                                            {/* Card description */}\n                                            <p className=\"card-text\">Click below to manage your item</p>\n\n                                            {/* Buttons for specific management page item */}\n                                            <Link className=\"nav-link btn btn-secondary\" to=\"/users\">Users</Link><br/>\n                                            <Link className=\"nav-link btn btn-secondary\"\n                                                  to=\"/products\">Products</Link><br/>\n                                            <Link className=\"nav-link btn btn-secondary\" to=\"/stocks\">Stocks</Link><br/>\n                                            <Link className=\"nav-link btn btn-secondary\"\n                                                  to=\"/locations\">Locations</Link><br/>\n                                            <Link className=\"nav-link btn btn-secondary\" to=\"/QR\">QR</Link><br/>\n                                            <Link className=\"nav-link btn btn-secondary\" to=\"/logs\">Logs</Link><br/>\n                                            <Link className=\"nav-link btn btn-secondary\" to=\"/alerts\">Alerts</Link>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    }/>\n\n                    {/* About page */}\n                    <Route path=\"/about\" exact component={() => <About/>}/>\n\n                    {/* User management page */}\n                    <Route path=\"/users\" exact\n                           component={() => <UserManagementMenu token={props.token} user={props.user}/>}/>\n\n                    {/* Product management page */}\n                    <Route path=\"/products\" exact component={() => <Product token={props.token}/>}/>\n\n                    {/* Location management page */}\n                    <Route path=\"/locations\" exact component={() => <Location token={props.token}/>}/>\n\n                    {/* Stocks management page */}\n                    <Route path=\"/stocks\" exact component={() => <StocksManagerMenu token={props.token}/>}/>\n\n                    {/* QR management page */}\n                    <Route path=\"/QR\" exact component={() => <QR token={props.token}/>}/>\n\n\n                    <Route path=\"/logs\" exact component={() => <UserLogManager token={props.token}/>}/>\n                    <Route path=\"/alerts\" exact component={() => <AlertManager token={props.token}/>}/>\n                </Switch>\n            </Router>\n        </div>\n    );\n}\n\nexport default HomePage;","import React from \"react\";\n\nfunction Footer() {\n    return (\n            <footer className=\"py-5 bg-dark fixed-bottom\" id=\"footer\">\n                <div className=\"container\">\n                    <p className=\"m-0 text-center text-white\">\n                        Copyright &copy; Stonks 2021\n                    </p>\n                </div>\n            </footer>\n    );\n}\n\nexport default Footer;","import LogInForm2 from \"./login/LogInForm2\";\nimport React, {useEffect, useState} from \"react\";\nimport './css/App.css';\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport Navigation from \"./pages/NavWelcome\";\nimport HomePage from \"./pages/HomePage\";\nimport About from \"./pages/About\";\nimport Footer from \"./pages/Footer\";\nimport logo from \"./assets/stonks4.png\";\n\nfunction App() {\n    const [state, setState] = useState({loggedIn: false, user: {}, token: \"\"})\n\n    const handleLogIn = e => {\n        console.log(e)\n        setState(e);\n        localStorage.setItem(\"token\", e.token);\n        localStorage.setItem(\"user\", JSON.stringify(e.user));\n    }\n\n    const handleLogOut = () => {\n        localStorage.clear();\n        setState({loggedIn: false, user: {}, token: \"\"});\n    }\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        if (token) {\n            const tokenArray = token.split('.');\n            const payload = JSON.parse(atob(tokenArray[1]));\n            const current_time = Date.now().valueOf() / 1000;\n            if(payload.exp < current_time){\n                localStorage.removeItem(\"token\");\n                localStorage.removeItem(\"user\");\n            }else{\n                setState(\n                    {\n                        token,\n                        user: JSON.parse(localStorage.getItem(\"user\")),\n                        loggedIn: true\n                    }\n                )\n            }\n        }\n    }, []);\n\n    /* If the user is logged-in, render HomePage,\n        else render WelcomePage with LogInForm\n     */\n    return (\n        <div className=\"App\">\n            {state.loggedIn ?\n                <HomePage user={state.user} token={state.token} handleLogOut={handleLogOut}/>\n                : <Router>\n                    <Navigation/>\n                    <Switch>\n                        <Route path=\"/\" exact component={() =>\n                            <div className=\"container\">\n                                <br/>\n                                <img src={logo} alt=\"Stonks logo\" width=\"200\" height=\"200\"/>\n                                <h1>Welcome to Stonks !</h1>\n                                <br/>\n                                <div className=\"row align-content-center\">\n                                    <div className=\"col\">\n                                        <h2>Log-in</h2>\n                                        <LogInForm2 handleChangeProps={handleLogIn}/>\n                                    </div>\n                                </div>\n                            </div>\n                        }/>\n                        <Route path=\"/about\" exact component={() => <About/>}/>\n                    </Switch>\n                    <Footer/>\n                </Router>\n            }\n        </div>\n    );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}